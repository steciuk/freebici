import{N as f,r as i,P as e,Q as t,W as L,E as C}from"./index-ca4ce27c.js";import{L as k,k as w,j as T,S as E}from"./Sidebar-320a137d.js";import{V as M,S as j}from"./Voronoi-2b44b7d7.js";import{S as u,F}from"./Switch-ec9a240e.js";const D=g=>{const{valenbici:v,getValenbici:r}=g,{stations:o,lastUpdate:b,loading:d}=v,[l,S]=f(!1),[h,x]=f(!1),[s,p]=i.useState([0,100]),c=i.useMemo(()=>{let a=0;return o.forEach(n=>{n.total>a&&(a=n.total)}),a},[o]),m=i.useMemo(()=>o.filter(a=>a.available>=s[0]&&a.available<=s[1]),[o,s]);return i.useEffect(()=>{p([0,c])},[c]),i.useEffect(()=>{r()},[r]),d||o.length===0?e(L,{}):t("div",{css:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden"},children:[t(k,{children:[!l&&e(M,{stations:m,invertColors:h,selectable:!0}),l&&m.map(a=>e(T,{position:a.position,color:"blue",children:e(w,{station:a})},a.id))]}),t(E,{children:[t("div",{children:[e("span",{children:"Last update: "}),e("span",{children:b?.toLocaleString()}),e("div",{css:{marginTop:"0.5rem"},children:e(C,{variant:"contained",disabled:d,onClick:()=>r(!0),children:"Refresh"})})]}),t("div",{css:{marginTop:"1rem"},children:[e("span",{children:"Heatmap"}),e(u,{checked:l,onChange:()=>S(),color:"default"}),e("span",{children:"Stations"})]}),e(F,{control:e(u,{checked:h,onChange:()=>x(),disabled:l}),label:"Invert colors"}),t("div",{className:"filtering",css:{width:"100%",marginTop:"1rem"},children:[e("div",{children:"Available bikes range"}),e(j,{value:s,onChange:(a,n)=>{p(n)},valueLabelDisplay:"auto",min:0,max:c,step:1})]})]})]})};export{D as default};
